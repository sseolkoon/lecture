# 1. 데이터베이스와 SQL

## **1.1 데이터베이스**
데이터베이스한 컴퓨터 안에 기록되어 있는 데이터의 집합을 말한다.  
넓은 의미에서 컴퓨터 안에 기록된 모든 것을 데이터베이스라고 할 수 있다.  
다만 일반적으로 통용되는 데이터베이스라는 개념은 조금 다르다.  
이는 데이터를 관리하기 쉽도록 특정 형태로 정리된 것을 가리킨다.

데이터가 관리될 필요가 있는 시스템이면 데이터베이스가 사용된다.  
개인용 컴퓨터나 휴대용 단말기에서부터 웹 시스템 그리고 금융기관에서도 사용된다.  
데이터베이스 또한 목적에 맞게 다양한 형태로 진화하고 있다.

### **1.1.1 DB와 DBMS**
데이터베이스(Database)는 일반적으로 DB라는 약자로 통용된다.  
데이터베이스는 저장장치 내에 저장된 데이터의 집합을 말하고  
이를 효율적으로 관리하기 위한 소프트웨어를 데이터베이스 관리 시스템이라 한다.  
데이터베이스 관리 시스템(Database Management System)을 줄여 DBMS라 부른다.

DB를 관리하기 위한 DBMS가 필요한 이유는 다음과 같다.
- 생산성  
DB를 다루기 위한 기본적인 기능을 DBMS가 제공함으로써 별도로 구현할 필요없이 관리할 수 있다.

- 기능성  
DBMS는 DB를 다루기 위한 많은 기능을 제공한다.  
리퀘스트에 응해 데이터를 저장하고 검색하고 갱신, 삭제 기능을 제공한다.  
또한 DBMS를 통해 유연하게 소프트웨어를 개발할 수 있다.

- 신뢰성  
대규모 데이터베이스는 많은 요청에 대응할 수 있도록 만들어져 있다.  
데이터베이스가 비대해져도 일정의 성능을 보장할 수 있도록 확장 기능을 가지고 있으며  
데이터의 손실이나 오염을 방지하기 위한 여러가지 기능을 내장하고 있다.  
또한 데이터베이스의 유지보수를 용이하게 할 수 있도록 도와 준다.

## **1.1.2 데이터베이스의 종류**
DBMS는 데이터 저장 방법에 따라 여러가지로  분류할 수 있다.  
몇가지를 소개하면 아래와 같다.
- 계층형 데이터베이스  
역사가 오래된 DBMS로 폴더와 파일 등의 계층 구조로 데이터를 저장하는 방식으로  
일반적인 파일시스템을 이러한 계층형 데이터베이스라고 할 수 있다.  
하지만 현재 DBMS로서 채택되는 경우는 많지 않습니다.

- 관계형 데이터베이스  
‘관계 대수(relational algebra)’라는 것에 착안하여 고안한 것으로  
행과 열을 가지는 표 형식(2차원 데이터)으로 데이터를 저장하는 데이터베이스를 가리킨다.  
이와 유사한 것으로 엑셀 시트를 떠올릴 수 있다.  
관계형 데이터베이스에는 이러한 표를 이름을 붙여 저장해두고 관리하며 SQL 명령어로 조작한다.

- 객체지향 데이터베이스  
자바나 C++를 객체지향 언어라고 하는데  
가능한한 객체 그대로를 데이터베이스의 데이터로 저장하는 것을 객체지향 데이터베이스라 한다.

- XML 데이터베이스  
XML 형식으로 기록된 데이터를 저장하는 데이터베이스로 SQL 대신 XQuery라는 전용 명령어를 사용한다.

- 키-밸류 스토어(KVS)  
키와 그에 대응하는 값(밸류)이라는 단순한 형태의 데이터를 저장하는 데이터베이스를 말한다.  
NoSQL(Not only SQL) 데이터베이스의 한 종류이다.

RDBMS는 비교적 오래된 DBMS이지만 변화가 빠른 시스템 업계에서도 여전히 데이터베이스의 주축을 차지하고 있다.


## **1.2 SQL**
지금까지 설명했듯 DBMS는 데이터베이스를 관리하는 소프트웨어이다.  
그 중 관계형 데이터베이스 관리 시스템(RDBMS: Relational Database Management System)을 조작할 때 사용되는 것이 SQL이다.

이 SQL(Structured Query Langugae)은 구조화된 질의 언어로  
관계형 데이터베이스 조작하기 위해 IBM이 개발한 SEQUEL이라는 언어를 시초로 한다.  
현재 ISO 등에 의해 표준화가 된 상태이다.

### **1.2.1 SQL명령의 종류**
- **DML**(Data Manipulation Language)  
데이터베이스에 새롭게 데이터를 추가하거나 삭제하거나 내용을 갱신하는 등 데이터를 조작할 때 사용하는 명령어를 말한다.

- **DDL**(Data Definition Language)  
데이터를 정의하는 명령어으로 데이터베이스의 객체를 관리하는 명령어를 말한다.

- **DCL**(Data Control Language)  
데이터를 제어하는 명령어를 말한다.  
이 DCL에는 트랜잭션을 제어하는 명령과 데이터 접근권한을 제어하는등의 명령어가 포함되어 있다.

### **1.2.2 SQL의 방언과 표준화**
SQL은 표준화가 되어 있어지만 각 데이터베이스 제품별로 기능 확장이 이루어지는 과정에서 제품에 한정된 명령어가 생겨났다.  
이를 SQL의 방언이라고 한다.  
표준 SQL을 만으로는 RDBMS에 따라 부족할 경우가 있을수 있으니 필요에 따라 방언을 익혀두는것도 나쁘진 않을 것이다.


## **1.3 클라이언트/서버 모델**
클라이언트/서버 모델이란 사용자 조작에 따라 요청을 전달하는‘클라이언트’와  
해당 요청을 받아 처리하는‘서버’로 구성되 모델을 말한다.

RDBMS도 마찬가지로 클라이언트/서버 모델로 시스템이 구성된다.  
RDBMS는 사용자 별로 데이터베이스 접근을 제한할 수 있는 인증기능을 가지고 있다.  
물론 인증에 실패하면 데이터베이스에 접속할 수 없습니다.  

postgresql의 경우는 psql이 클라이언트 역할을 할 수 있다.

### **1.3.1 psql 명령**
| 기능 | 명령 |
| ---- | ---- |
| SQL 명령어 도움 | `\h` |
| psql 명령어 도움 | `\?` |
| 데이터베이스 일람 | \l |
| 데이터베이스 확인 | \l DB명 |
| 데이터베이스 접속 | \c DB명 |
| 테이블 일람 | \d、\dt、\d+、\dt+ |
| 테이블 확인 | \d 테이블명 |
| 인덱스 일람 | \d 테이블명 |
| 행 표시 전환 | \x |
| SQL 파일 실행 | \i |
| 접속환경 확인 | \conninfo |
| 엔코딩 확인 | \encoding |
| 종료 | \q |
